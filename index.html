<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Digest Dashboard (Fixed)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-50 min-h-screen p-4">
    <header class="bg-white shadow p-4 mb-6">
        <h1 class="text-2xl font-bold text-center text-blue-900">AI Digest Interactive Dashboard</h1>
        <p class="text-center text-gray-600" id="dashboard-date">Last Updated: April 2, 2025</p>
    </header>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <div class="bg-white rounded-lg shadow p-4">
            <h2 class="text-lg font-semibold mb-4 text-blue-900">Articles by Source</h2>
            <div style="height: 250px; position: relative;">
                <canvas id="sources-chart"></canvas>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow p-4">
            <h2 class="text-lg font-semibold mb-4 text-blue-900">Articles by Therapy Area</h2>
            <div style="height: 250px; position: relative;">
                <canvas id="areas-chart"></canvas>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow p-4">
            <h2 class="text-lg font-semibold mb-4 text-blue-900">Publication Date Trend</h2>
            <div style="height: 250px; position: relative;">
                <canvas id="dates-chart"></canvas>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Sample data
            const sourceData = {
                labels: ['aws.amazon.com', 'deepmind.com', 'openai.com', 'microsoft.com'],
                values: [5, 3, 2, 1]
            };
            
            const areaData = {
                labels: ['Technical AI Updates', 'AI News', 'AI Healthcare'],
                values: [8, 6, 4]
            };
            
            const dateData = {
                labels: ['2025-04-01', '2025-04-02', '2025-04-03'],
                values: [3, 5, 2]
            };
            
            // Create charts with fixed height constraint
            const sourcesChart = new Chart(document.getElementById('sources-chart'), {
                type: 'bar',
                data: {
                    labels: sourceData.labels,
                    datasets: [{
                        label: 'Number of Articles',
                        data: sourceData.values,
                        backgroundColor: 'rgba(54, 162, 235, 0.6)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
            
            const areasChart = new Chart(document.getElementById('areas-chart'), {
                type: 'pie',
                data: {
                    labels: areaData.labels,
                    datasets: [{
                        data: areaData.values,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.6)',
                            'rgba(54, 162, 235, 0.6)',
                            'rgba(255, 206, 86, 0.6)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
            
            const datesChart = new Chart(document.getElementById('dates-chart'), {
                type: 'line',
                data: {
                    labels: dateData.labels,
                    datasets: [{
                        label: 'Articles Published',
                        data: dateData.values,
                        borderColor: 'rgba(75, 192, 192, 1)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        });
    </script>
</body>
</html>
